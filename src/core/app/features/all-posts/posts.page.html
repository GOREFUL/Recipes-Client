<!-- src/core/app/features/post/posts/posts.page.html -->
<!-- src/core/app/features/post/posts/posts.page.html -->
<section class="w-full space-y-6">
  <div class="flex flex-wrap justify-between items-center gap-3 border-b pb-4 p-4">
    <h1 class="text-2xl font-bold" style="color: var(--text)">My Posts</h1>

    <div class="flex flex-wrap gap-2">
      <button class="btn btn-primary btn-lg" (click)="onAdd()">
        <mat-icon>add</mat-icon><span>Add Post</span>
      </button>

      <button class="btn btn-soft btn-lg" (click)="onRefresh()">
        <mat-icon>refresh</mat-icon><span>Refresh</span>
      </button>
    </div>
  </div>

  <div *ngIf="postSrvc.posts().length > 0; else emptyState" class="grid gap-4">
    <div
      *ngFor="let post of postSrvc.posts()"
      class="flex items-start justify-between p-4 rounded-xl"
      style="background: var(--panel)"
    >
      <div class="cursor-pointer flex-1" (click)="onOpen(post)">
        <h3 class="text-lg font-semibold">{{ post.name }}</h3>
        <p class="opacity-70">{{ post.description }}</p>
        <div class="text-xs opacity-60 truncate">{{ post.mediaUrl }}</div>
      </div>

      <div class="flex items-center gap-2">
        <button class="btn btn-ghost" (click)="onOpen(post)" title="Details">
          <mat-icon>open_in_new</mat-icon>
        </button>

      </div>
    </div>
  </div>

  <ng-template #emptyState>
    <div class="text-center py-20" style="color: var(--muted)">
      <mat-icon class="text-4xl mb-2">video_library</mat-icon>
      <p>No posts found. Add a new one to get started.</p>
    </div>
  </ng-template>
</section>
